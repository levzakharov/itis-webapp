<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">

    <changeSet  id="initial-fk-documents-posts-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="document_id"
                                 baseTableName="documents_posts"
                                 constraintName="documents_posts_documents_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="documents"/>
    </changeSet>

    <changeSet id="initial-fk-documents-posts-1" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="post_id"
                                 baseTableName="documents_posts"
                                 constraintName="documents_posts_posts_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="posts"/>
    </changeSet>

    <changeSet id="initial-fk-users-destinations-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="users_destinations"
                                 constraintName="users_destinations_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-users-destinations-1" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="destination_id"
                                 baseTableName="users_destinations"
                                 constraintName="users_destinations_destinations_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="destinations"/>
    </changeSet>

    <changeSet id="initial-fk-events-users-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="event_id"
                                 baseTableName="events_users"
                                 constraintName="events_users_events_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="events"/>
    </changeSet>

    <changeSet id="initial-fk-events-users-1" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="events_users"
                                 constraintName="events_users_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-events-users-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="event_id"
                                 baseTableName="events_users"
                                 constraintName="events_users_events_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="events"/>
    </changeSet>

    <changeSet id="initial-fk-roles-users-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="roles_users"
                                 constraintName="roles_users_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-roles-users-1" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="role_id"
                                 baseTableName="roles_users"
                                 constraintName="roles_users_roles_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="roles"/>
    </changeSet>

    <changeSet id="initial-fk-users-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="group_id"
                                 baseTableName="users"
                                 constraintName="users_groups_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="groups"/>
    </changeSet>

    <changeSet id="initial-fk-posts-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="posts"
                                 constraintName="posts_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-documents-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="documents"
                                 constraintName="documents_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-notifications-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="notifications"
                                 constraintName="notifications_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>

    <changeSet id="initial-fk-destinations-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="notification_id"
                                 baseTableName="destinations"
                                 constraintName="destinations_notifications_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="notifications"/>
    </changeSet>

    <changeSet id="initial-fk-requests-0" author="al.leontyev">
        <addForeignKeyConstraint baseColumnNames="user_id"
                                 baseTableName="requests"
                                 constraintName="requests_users_fk"
                                 deferrable="true"
                                 initiallyDeferred="true"
                                 referencedColumnNames="id"
                                 referencedTableName="users"/>
    </changeSet>
    
</databaseChangeLog>